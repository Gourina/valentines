<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Abhirami üíò</title>

<style>
  :root{
    --bg1:#0b1020; --bg2:#2b1055;
    --pink:#ff4d8d; --card: rgba(255,255,255,.10);
    --border: rgba(255,255,255,.18);
    --text: rgba(255,255,255,.92);
    --muted: rgba(255,255,255,.75);
    --shadow: 0 28px 80px rgba(0,0,0,.45);
  }
  *{box-sizing:border-box}
  body{
    margin:0; min-height:100svh; display:flex; align-items:center; justify-content:center;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
    color:var(--text);
    background:
      radial-gradient(1200px 700px at 20% 15%, rgba(255,77,141,.35), transparent 55%),
      radial-gradient(900px 600px at 80% 30%, rgba(255,180,210,.22), transparent 60%),
      linear-gradient(135deg, var(--bg1), var(--bg2));
    overflow:hidden; padding:22px;
  }

  .hearts{position:fixed; inset:0; pointer-events:none;}
  .heart{
    position:absolute; width:14px; height:14px; background:var(--pink);
    transform:rotate(45deg); border-radius:3px; opacity:.55;
    filter: drop-shadow(0 6px 12px rgba(255,77,141,.25));
    animation: floatUp linear infinite;
  }
  .heart:before,.heart:after{content:""; position:absolute; width:14px; height:14px; background:var(--pink); border-radius:50%;}
  .heart:before{left:-7px; top:0} .heart:after{top:-7px; left:0}
  @keyframes floatUp{
    from{ transform: translateY(30svh) rotate(45deg); opacity:0;}
    12%{opacity:.55;}
    to{ transform: translateY(-120svh) rotate(45deg); opacity:0;}
  }

  .card{
    width:min(780px,100%);
    background:var(--card);
    border:1px solid var(--border);
    border-radius:28px;
    box-shadow:var(--shadow);
    backdrop-filter: blur(14px);
    overflow:hidden;
    position:relative;
  }
  .topGlow{
    position:absolute; inset:-2px -2px auto -2px; height:150px;
    background: radial-gradient(650px 150px at 50% 0%, rgba(255,77,141,.35), transparent 70%);
    pointer-events:none;
  }
  .content{padding:22px 18px 18px}
  .row{display:flex; gap:18px; align-items:center; justify-content:space-between; flex-wrap:wrap;}

  .photoWrap{
    width:180px; height:180px; border-radius:26px; overflow:hidden;
    border:1px solid rgba(255,255,255,.22);
    box-shadow:0 16px 40px rgba(0,0,0,.35);
    background: rgba(255,255,255,.08);
    flex:0 0 auto; position:relative;
    display:flex; align-items:center; justify-content:center;
  }
  .photoWrap img{width:100%; height:100%; object-fit:cover; display:none;}
  .photoPlaceholder{
    padding:14px;
    text-align:center;
    color:rgba(255,255,255,.8);
    font-size:12px;
    line-height:1.4;
  }
  .badge{
    position:absolute; bottom:10px; left:10px;
    font-size:12px; padding:6px 10px; border-radius:999px;
    background: rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.18);
  }

  h1{margin:0 0 6px; font-size: clamp(26px, 4vw, 40px); letter-spacing:-.02em;}
  .sub{margin:0; color:var(--muted); font-size: clamp(14px, 1.9vw, 18px); line-height:1.45;}
  .type{display:inline-block; border-right:2px solid rgba(255,255,255,.6); padding-right:4px; animation: caret .9s step-end infinite;}
  @keyframes caret{50%{border-color:transparent}}

  .divider{height:1px; background: linear-gradient(90deg, transparent, rgba(255,255,255,.22), transparent); margin:16px 0;}

  .controls{
    display:flex; gap:10px; flex-wrap:wrap; align-items:center;
    margin-top:10px;
  }
  .pill{
    border:1px solid rgba(255,255,255,.18);
    background: rgba(0,0,0,.22);
    color:white;
    padding:10px 12px;
    border-radius:999px;
    font-weight:800;
    cursor:pointer;
    user-select:none;
  }
  input[type="file"]{display:none;}

  .spotifyWrap{
    margin-top:14px;
    border-radius:18px;
    overflow:hidden;
    border:1px solid rgba(255,255,255,.18);
    background: rgba(0,0,0,.18);
  }
  iframe{width:100%; height:152px; border:0; display:block;}

  .playArea{position:relative; height:140px; border-radius:18px; margin-top:10px;}
  .btn{
    border:0; border-radius:999px; font-weight:900; cursor:pointer;
    padding:14px 24px; font-size:18px; user-select:none;
    -webkit-tap-highlight-color: transparent;
    box-shadow:0 18px 40px rgba(0,0,0,.35);
    position:absolute; top:50%; transform: translateY(-50%);
    transition: transform .12s ease, filter .12s ease;
  }
  .btn:active{transform: translateY(-50%) scale(.98);}
  #yesBtn{left:18%; background: linear-gradient(180deg, #ff9dc3, var(--pink)); color:white; transform-origin:center;}
  #noBtn{left:60%; background: linear-gradient(180deg, #1f2937, #0b1220); color:white; border:1px solid rgba(255,255,255,.18);}

  .mini{ text-align:center; margin-top:8px; font-size:12px; color:rgba(255,255,255,.75); }

  .modal{
    position:fixed; inset:0; display:none; align-items:center; justify-content:center;
    padding:22px; background: rgba(0,0,0,.55); z-index:20;
  }
  .modal.open{display:flex;}
  .modalBox{
    width:min(640px, 100%);
    background: rgba(255,255,255,.10);
    border:1px solid rgba(255,255,255,.20);
    border-radius:24px;
    padding:20px;
    backdrop-filter: blur(14px);
    box-shadow: var(--shadow);
  }
  .modalTop{display:flex; gap:14px; align-items:center; justify-content:space-between; flex-wrap:wrap; margin-bottom:10px;}
  .modalTop h3{margin:0; font-size:24px;}
  .closeBtn{
    border:0; border-radius:999px; padding:10px 14px; font-size:14px; font-weight:800;
    cursor:pointer; background: rgba(0,0,0,.35); color:white;
    border:1px solid rgba(255,255,255,.18);
  }
  .letter{margin:0; color:rgba(255,255,255,.9); line-height:1.55; font-size:16px;}
</style>
</head>

<body>
<div class="hearts" id="hearts"></div>

<main class="card">
  <div class="topGlow"></div>
  <div class="content">

    <div class="row">
      <div class="photoWrap">
        <img id="photo" alt="Abhirami">
        <div class="photoPlaceholder" id="placeholder">
          Add Abhirami‚Äôs photo üíñ<br>
          (Tap ‚ÄúChoose photo‚Äù below)
        </div>
        <div class="badge">Abhirami üíò</div>
      </div>

      <div style="flex:1 1 280px; min-width:240px;">
        <h1>Abhirami‚Ä¶</h1>
        <p class="sub"><span id="typeText" class="type"></span></p>

        <div class="controls">
          <label class="pill" for="filePicker">Choose photo üì∑</label>
          <input id="filePicker" type="file" accept="image/*">
          <div class="pill" id="shake">Make it extra romantic ‚ú®</div>
        </div>

        <p class="sub" style="margin-top:10px;">
          Press play on the song‚Ä¶ then answer me üòåüíó
        </p>
      </div>
    </div>

    <div class="spotifyWrap">
      <iframe
        src="https://open.spotify.com/embed/track/44AyOl4qVkzS48vBsbNXaC?utm_source=generator"
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
        loading="lazy">
      </iframe>
    </div>

    <div class="divider"></div>

    <h1 style="margin:0 0 6px; font-size: clamp(22px, 3.5vw, 34px);">Will you be my Valentine? üíò</h1>

    <div class="playArea" id="playArea">
      <button class="btn" id="yesBtn">YES üòç</button>
      <button class="btn" id="noBtn">NO üôà</button>
    </div>
    <div class="mini" id="miniText">If you press ‚ÄúNo‚Äù, the ‚ÄúYes‚Äù gets bigger üòå</div>

  </div>
</main>

<div class="modal" id="modal">
  <div class="modalBox">
    <div class="modalTop">
      <h3>She said YES üíû</h3>
      <button class="closeBtn" id="closeBtn">Close</button>
    </div>
    <p class="letter">
      Abhirami, you‚Äôre my favorite feeling.
      I choose you today‚Ä¶ and I‚Äôd choose you again and again. üíñ
      <br><br>
      Now come here‚Ä¶ I owe you a proper date üòå‚ú®
    </p>
  </div>
</div>

<script>
  // Hearts background
  const hearts = document.getElementById("hearts");
  for (let i=0;i<22;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.style.left=(Math.random()*100)+"vw";
    h.style.animationDelay=(Math.random()*6)+"s";
    h.style.animationDuration=(7+Math.random()*9)+"s";
    const s=10+Math.random()*16;
    h.style.width=s+"px"; h.style.height=s+"px";
    hearts.appendChild(h);
  }

  // Typewriter
  const typeEl = document.getElementById("typeText");
  const lines = [
    "I have a small question‚Ä¶",
    "One that makes my heart a little louder.",
    "And I only want one answer from you üíó"
  ];
  let line=0, idx=0;
  function typeLoop(){
    const t = lines[line];
    typeEl.textContent = t.slice(0, idx++);
    if (idx <= t.length) setTimeout(typeLoop, 45);
    else setTimeout(()=>{ line=(line+1)%lines.length; idx=0; typeLoop(); }, 900);
  }
  typeLoop();

  // Photo picker (fixes ALL file path issues)
  const filePicker = document.getElementById("filePicker");
  const img = document.getElementById("photo");
  const placeholder = document.getElementById("placeholder");

  filePicker.addEventListener("change", () => {
    const file = filePicker.files && filePicker.files[0];
    if (!file) return;
    const url = URL.createObjectURL(file);
    img.src = url;
    img.style.display = "block";
    placeholder.style.display = "none";
  });

  // Romantic extra effect button
  const shake = document.getElementById("shake");
  shake.addEventListener("click", () => {
    document.body.animate(
      [{filter:"brightness(1)"},{filter:"brightness(1.08)"}],
      {duration:500, iterations:1, direction:"alternate"}
    );
  });

  // Buttons game
  const yesBtn=document.getElementById("yesBtn");
  const noBtn=document.getElementById("noBtn");
  const playArea=document.getElementById("playArea");
  const miniText=document.getElementById("miniText");

  let yesScale=1, noCount=0;
  function clamp(n,mi,ma){return Math.max(mi,Math.min(ma,n));}

  function moveNo(){
    const area=playArea.getBoundingClientRect();
    const btn=noBtn.getBoundingClientRect();
    const pad=10;
    const x=pad + Math.random()*Math.max(0,(area.width-btn.width-pad*2));
    const y=pad + Math.random()*Math.max(0,(area.height-btn.height-pad*2));
    noBtn.style.left=x+"px";
    noBtn.style.top=y+"px";
    noBtn.style.transform="translateY(0)";
  }
  function growYes(){
    yesScale = clamp(yesScale + 0.22 + noCount*0.04, 1, 4.6);
    yesBtn.style.transform=`translateY(-50%) scale(${yesScale})`;
  }
  const msgs=[
    "Okay‚Ä¶ but why üò≥",
    "Abhirami please ü•∫",
    "Don‚Äôt break my heart üò≠",
    "The YES button is glowing now üëÄ",
    "I will keep asking üò§üíó",
    "Just press YES already üò≠üíû"
  ];
  noBtn.addEventListener("click", (e)=>{
    e.preventDefault();
    noCount++;
    moveNo();
    growYes();
    miniText.textContent = msgs[Math.min(noCount-1, msgs.length-1)];
  });

  // Modal
  const modal=document.getElementById("modal");
  const closeBtn=document.getElementById("closeBtn");
  yesBtn.addEventListener("click", ()=> modal.classList.add("open"));
  closeBtn.addEventListener("click", ()=> modal.classList.remove("open"));
  modal.addEventListener("click",(e)=>{ if(e.target===modal) modal.classList.remove("open"); });

  window.addEventListener("load",()=>{
    noBtn.style.left="60%";
    noBtn.style.top="50%";
  });
</script>
</body>
</html>
